{% extends "cloud_browser/base.html" %}

{% comment %}
###############################################################################
# Browser
###############################################################################
{% endcomment %}

{% block title %}
Cloud Browser - {{ path }}
{% endblock %}

{% block content %}
{% if container_infos %}
<h2>Containers</h2>
<table>
  <thead>
    <th>Name</th>
    <th>Count</th>
    <th>Bytes</th>
  </thead>
  <tbody>
    {% for info in container_infos %}
      <tr>
        <td><a href="{% url cloud_browser_browser info.name %}">
            {{ info.name }}</a></td>
        <td>{{ info.count }}</td>
        <td>{{ info.bytes }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}

{% if object_infos %}
<h2>Objects</h2>
<table>
  <thead>
    <th>Name</th>
    <th>Bytes</th>
    <th>Content Type</th>
    <th>Date</th>
    <th>Obj. Type</th>
  </thead>
  <tbody>
    {% for info in object_infos %}
      <tr>
        {% if info.is_file %}
        <td><a href="{% url cloud_browser_document info.path %}">
            {{ info.basename }}</a></td>
        {% else %}
        <td><a href="{% url cloud_browser_browser info.path %}">
            {{ info.basename }}</a></td>
        {% endif %}
        <td>{{ info.bytes }}</td>
        <td>{{ info.content_type }}</td>
        <td>{{ info.last_modified }}</td>
        <td>{{ info.type }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}
{% endblock %}
