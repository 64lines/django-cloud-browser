{% extends "cloud_browser/base.html" %}

{% comment %}
###############################################################################
# Browser
###############################################################################
{% endcomment %}

{% block title %}
Cloud Browser - {{ path }}
{% endblock %}

{% block content %}
{% if containers %}
<h2>Containers</h2>
<table>
  <thead>
    <th>Name</th>
    <th>Count</th>
    <th>Bytes</th>
  </thead>
  <tbody>
    {% for cont in containers %}
      <tr>
        <td><a href="{% url cloud_browser_browser cont.name %}">
            {{ cont.name }}</a></td>
        <td>{{ cont.count }}</td>
        <td>{{ cont.size }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}

{% if objects %}
<h2>Objects</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Bytes</th>
      <th>Content Type</th>
      <th>Encoding</th>
      <th>Date</th>
      <th>Obj. Type</th>
    </tr>
  </thead>
  <tbody>
    {% for obj in objects %}
      <tr>
        {% if obj.is_file %}
        <td><a href="{% url cloud_browser_document obj.path %}">
            {{ obj.basename }}</a></td>
        {% else %}
        <td><a href="{% url cloud_browser_browser obj.path %}">
            {{ obj.basename }}</a></td>
        {% endif %}
        <td>{{ obj.bytes }}</td>
        <td>{{ obj.smart_content_type|default_if_none:'' }}</td>
        <td>{{ obj.smart_content_encoding|default_if_none:'' }}</td>
        <td>{{ obj.last_modified|default_if_none:'' }}</td>
        <td>{{ obj.type }}</td>
      </tr>
    {% endfor %}
  </tbody>
  <tfooter>
    <tr>
      <td colspan="6">
        {% if marker %}
        <a href="{% url cloud_browser_browser path %}?marker={{ marker|urlencode }}&limit={{ limit|urlencode }}">Next</a> &raquo;
        {% endif %}
      </td>
    </tr>
  </tfooter>
</table>
{% endif %}
{% endblock %}
